---
title: "[ë‚´ë°°ìº ] ì±Œë¦°ì§€ë°˜ ê³¼ì œ 1ì°¨ ì œì¶œ - GitHub App ë§Œë“¤ê¸°"
excerpt: "ì±Œë¦°ì§€ë°˜ ê³¼ì œ 1ì°¨ ì œì¶œ - GitHub App ë§Œë“¤ê¸°" 
categories: sparta
tags: [ì±Œë¦°ì§€, ê³¼ì œ, ê¹ƒí—ˆë¸Œì•±]

toc: true           #On this page ë³´ì´ê¸° 
toc_sticky: true    #on this page ìŠ¤í¬ë¡¤ì— ë”°ë¼ ì›€ì§ì´ë„ë¡ 
comments: true      #ëŒ“ê¸€
---

# ì±Œë¦°ì§€ë°˜ ê³¼ì œ ëª©í‘œ 
- ë³¸ì¸ì˜ ê¹ƒí—ˆë¸Œ í”„ë¡œí•„ í˜ì´ì§€ë¥¼ ë§Œë“¤ì–´ì£¼ì„¸ìš”. 
- í™”ë©´ ìƒë‹¨ì—ëŠ” í”„ë¡œí•„ ìƒì„¸ ì •ë³´ê°€ ì¶œë ¥ë˜ê³  ì•„ë˜ëŠ” Repository ëª©ë¡ì´ ì¶œë ¥ë˜ëŠ” ì•±ì„ ë§Œë“¤ì–´ì£¼ì„¸ìš”. 
- Repository ëª©ë¡ì€ í˜ì´ì§• ì²˜ë¦¬ë¥¼ ìœ„í•˜ì—¬ ë³¸ì¸ Repositoryë¥¼ ê°€ì ¸ì˜¨ í›„ appleì˜ Repositoryë¥¼ ë¶™ì—¬ì£¼ì„¸ìš”. 

<br>

# ìš”êµ¬ì‚¬í•­ 
- iOS 15 ì´ìƒ 
- Swift 5 ì´ìƒ 
- gitì„ ì‚¬ìš©í•´ì£¼ì„¸ìš”. 
- READMEë¥¼ ì‘ì„±í•´ì£¼ì„¸ìš”. 
- ê°€ëŠ¥í•˜ë‹¤ë©´ MVC ì•„í‚¤í…ì²˜ë¥¼ ì‚¬ìš©í•´ì£¼ì„¸ìš”. 
    - ê¸°ë³¸ iOSì—ì„œ ì œê³µí•˜ëŠ” ViewControllerë¥¼ ì‚¬ìš©í•˜ë©´ ë©ë‹ˆë‹¤. 
- ì˜¤í”ˆì†ŒìŠ¤ ë¼ì´ë¸ŒëŸ¬ë¦¬ëŠ” ì•„ë˜ì˜ ë£°ì„ ë”°ë¼ì£¼ì„¸ìš”. 
    - í•„ìˆ˜ ì‚¬ìš© 
        - Alamofire 
        - KingFisher or SDWebImage 
    - ì•„ë˜ì˜ ë¼ì´ë¸ŒëŸ¬ë¦¬ëŠ” ì‚¬ìš©í•˜ì§€ ë§ˆì„¸ìš”.
        - RxSwift, RxCocoa, Rx..... 
        - Moya
        - SnapKit 
    - ê·¸ ì™¸ì˜ ë¼ì´ë¸ŒëŸ¬ë¦¬ëŠ” ì‚¬ìš©í•˜ì…”ë„ ë©ë‹ˆë‹¤. ë‹¨ ì‚¬ìš©í•˜ì‹œë©´ ë‚˜ì¤‘ì— ì´ìœ ë¥¼ ì„¤ëª…í•  ìˆ˜ ìˆì–´ì•¼ í•©ë‹ˆë‹¤.
- Pull To Refresh ê¸°ëŠ¥ êµ¬í˜„í•´ì£¼ì„¸ìš”. 
- ë‹¤ìŒ í˜ì´ì§€ ìŠ¤í¬ë¡¤ë§ ê°€ëŠ¥í•˜ê²Œ í•´ì£¼ì„¸ìš”.(í˜ì´ì§•ì²˜ë¦¬)
- ë””ìì¸ì€ Code, Storyboard í¸í•˜ì‹  ë°©ë²•ìœ¼ë¡œ í•˜ì‹œë©´ ë©ë‹ˆë‹¤. 
    - ë‹¨ Code ì‘ì„±í•  ë•Œ Frame ê¸°ë°˜ì€ ì§€ì–‘í•´ì£¼ì„¸ìš”. 
- TableViewë‚˜ CollectionViewë¥¼ ì‚¬ìš©í•´ì£¼ì„¸ìš”. 
    - Delegate, DataSourceë¥¼ ì‚¬ìš©í•´ì£¼ì„¸ìš”. 
- ë””ìì¸ì€ ê³¼ì œì±„ì ì— ì˜í–¥ì„ ì£¼ì§€ ì•ŠìŠµë‹ˆë‹¤. 

<br>

# ë¼ì´ë¸ŒëŸ¬ë¦¬ ì„¤ì¹˜ 
- [ì½”ì½”ì•„íŒŸ(cocoapods) ì„¤ì¹˜í•˜ê¸°](https://limlogging.github.io/UIKit/cocoapods/){:target="_blank"} 
- [ì•Œë¼ëª¨íŒŒì´ì–´(alamofire) ì„¤ì¹˜í•˜ê¸°](https://limlogging.github.io/UIKit/alamofire/){:target="_blank"} 
- [SDWebImage ì„¤ì¹˜í•˜ê¸°](https://limlogging.github.io/UIKit/SDWebImage/){:target="_blank"} 

<br>

# ìƒˆë¡œê³ ì¹¨ ê¸°ëŠ¥ 

```swift 
// MARK: - viewDidLoad()
override func viewDidLoad() {
    super.viewDidLoad()
    //Pull to refresh ì¶”ê°€
    tableViewRefresh()
}

// MARK: - Pull to refresh ì»¨íŠ¸ë¡¤ ì¶”ê°€
func tableViewRefresh() {
    let refreshControl = UIRefreshControl()
    refreshControl.attributedTitle = NSAttributedString(string: "ìƒˆë¡œê³ ì¹¨")
    refreshControl.addTarget(self, action: #selector(refreshData), for: .valueChanged)
    repositoriesTableView.refreshControl = refreshControl
}

// MARK: - pull to refresh ë©”ì„œë“œ
@objc func refreshData() {
    DispatchQueue.main.asyncAfter(deadline: .now() + 1.0) {
        // í…Œì´ë¸” ë·° ë¦¬ë¡œë“œ
        self.repositoriesTableView.reloadData()
        // UIRefreshControl ì¢…ë£Œ
        self.repositoriesTableView.refreshControl?.endRefreshing()
    }
}
```

<br>

# ê¹ƒí—ˆë¸Œì—ì„œ ì •ë³´ ê°€ì ¸ì˜¤ê¸° 
## í”„ë¡œí•„ 
```swift 
// MARK: - ê¹ƒí—ˆë¸Œì—ì„œ í”„ë¡œí•„ ì •ë³´ ê°€ì ¸ì˜¤ê¸°
func getGithubProfile() {
    AF.request(profileUrl).responseJSON { response in
        switch response.result {
        case.success(let value):
            if let json = value as? [String: Any],
                let name = json["name"] as? String,
                let login = json["login"] as? String,
                let followers = json["followers"] as? Int,
                let following = json["following"] as? Int,
                let repoCnt = json["public_repos"] as? Int,
                let avatarURLString = json["avatar_url"] as? String,
                let avatarURL = URL(string: avatarURLString) {
                
                let profile = GithubProfile(myImage: avatarURL, name: name, login: login, followers: followers, following: following, repoCnt: repoCnt)
                
                self.showProfileInfo(profile)                    
            }
        case .failure(let error):
            print("error: \(error)")
        }
    }
}

// êµ¬ì¡°ì²´ì—ì„œ ë°ì´í„°ë¥¼ ê°€ì ¸ì™€ label ë° imageViewì— ë³´ì—¬ì£¼ëŠ” í•¨ìˆ˜
func showProfileInfo(_ profile: GithubProfile) {
    //SDWebImageë¥¼ ì‚¬ìš©í•˜ì—¬ í”„ë¡œí•„ ì´ë¯¸ì§€ ë‹¤ìš´ë¡œë“œ ë° ì¶œë ¥
    profileImageView.sd_setImage(with: profile.myImage, placeholderImage: nil, options: [], completed: nil)
    
    profileName.text = profile.name     // ì´ë¦„ ì¶œë ¥
    profileLogin.text = profile.login   // ë¡œê·¸ì¸ ì¶œë ¥
    profileFollowers.text = "Followers: \(String(profile.followers))"   //followers
    profileFollowing.text = "Following: \(String(profile.following))"   //following
    
    self.repoCnt = profile.repoCnt
    repositoriesTableView.reloadData()  //ìµœì´ˆ ì‹¤í–‰í•˜ë©´ numberOfRowsInSectionë¥¼ ë¨¼ì € ì‹¤í–‰í•˜ê³  ê¹ƒí—ˆë¸Œ ë°ì´í„°ë¥¼ ë°›ì•„ì™€ì„œ row ìˆ˜ê°€ 0ì„, rowìˆ˜ë¥¼ ê¹ƒí—ˆë¸Œ repoìˆ˜ ë§Œí¼ ë³´ì´ë„ë¡ ìƒˆë¡œê³ ì¹¨ ì¶”ê°€
}
```

## ë ˆí¬ì§€í† ë¦¬ 

```swift 
// MARK: - ê¹ƒí—ˆë¸Œì—ì„œ ë¦¬í¬ì§€í† ë¦¬ ì •ë³´ ê°€ì ¸ì˜¤ê¸°
func getGithubRepositories() {
    AF.request(repositoriesUrl).responseJSON { response in
        switch response.result {
        case.success(let value):
            if let repositories = value as? [[String: Any]] {
                for repo in repositories {
                    if let name = repo["name"] as? String,
                        let htmlUrl = repo["html_url"] as? String {
                            //description, languageëŠ” ì—†ê±°ë‚˜ Null ê°’ì´ ìˆì–´ì„œ ë‹ ì½”ì–¼ë ˆì‹± ì¶”ê°€
                            let description = repo["description"] as? String ?? ""
                            let language = repo["language"] as? String ?? ""
                            
                            //ë°°ì—´ì— ì €ì¥
                            self.repoArr.append(GithubRepositories(name: name, htmlUrl: htmlUrl, description: description, language: language))
                    }
                }
            }
        case .failure(let error):
            print("ì—ëŸ¬: \(error)")
        }
    }
}
```

<br>

# ì‹¤í–‰í™”ë©´ 
![ì‹¤í–‰í™”ë©´](../../assets/images/categories/sparta/2024-04-12-á„á…¢á†¯á„…á…µá†«á„Œá…µá„‡á…¡á†«á„€á…ªá„Œá…¦1-1.png)  

<br>

# ì‹¤í–‰ì˜ìƒ
<video width="640" height="360" controls>
    <source src="../../assets/video/categories/sparta/2024-04-12-ì±Œë¦°ì§€ë°˜ê³¼ì œ1-1.mov" type="video/mp4">
</video>  

<br>

# ë§ˆë¬´ë¦¬
- í…Œì´ë¸”ë·° rowë¥¼ ì„ íƒí• ë•Œ ë°°ì—´ì˜ rowë¡œ í•´ì•¼í•˜ëŠ”ë° ë¡œë”©í•˜ìë§ˆì tableviewì— ë°ì´í„°ë¥¼ ë³´ì—¬ì£¼ê¸°ìœ„í•´ì„œ í”„ë¡œí•„ì—ì„œ repoCntë¥¼ êµ¬í–ˆë‹¤. 
- ë¡œë”©ë•Œ ë°ì´í„°ë¥¼ ë³´ì—¬ì£¼ê¸°ìœ„í•´ reloadë¥¼ ë§ì´ ì‚¬ìš©í–ˆëŠ”ë° ë‹¤ë¥¸ ë°©ë²•ì´ ìˆì„ ê²ƒ ê°™ë‹¤. 
- apië¥¼ ì‚¬ìš©í•  ë•Œ ì•„ë˜ ê²½ê³ ë¬¸ì´ ë–´ëŠ”ë° ê°œì„ í•  ë°©ë²•ì„ ì°¾ì§€ ëª»í–ˆë‹¤. ë‹¤ë¥¸ ë°©ë²•ì„ ê³ ë¯¼í•´ì•¼í•  ê²ƒ ê°™ë‹¤. 
    - 'responseJSON(queue:dataPreprocessor:emptyResponseCodes:emptyRequestMethods:options:completionHandler:)' is deprecated: responseJSON deprecated and will be removed in Alamofire 6. Use responseDecodable instead.  
- ìƒˆë¡œê³ ì¹¨í• ë•Œ ë°°ì—´ì„ ë‹¤ì‹œ ê°€ì ¸ì˜¤ëŠ”ê±´ë° ë°°ì—´ì„ ì´ˆê¸°í™” í•˜ê³  ë‹¤ì‹œ ë¶ˆëŸ¬ì•¼í•˜ë‚˜ ê³ ë¯¼í–ˆëŠ”ë° ìš°ì„  ê·¸ëƒ¥ ì§„í–‰í–ˆë‹¤. 
- í˜ì´ì§•ì²˜ë¦¬ë¥¼ ëª»í•´ì„œ ì°¾ì•„ë³´ê³  ì¶”ê°€í•´ì•¼ê² ë‹¤.  
- ë°°ìš´ë‚´ìš©ì„ í™œìš©í•´ì„œ êµ¬í˜„í•˜ì˜€ê³  ë¼ì´ë¸ŒëŸ¬ë¦¬ ì„¤ì¹˜ì™€ api ì‚¬ìš©ì„ ê²½í—˜í•´ë³¼ ìˆ˜ ìˆì—ˆë‹¤. 
- íŠœí„°ë‹˜ í”¼ë“œë°± ë°›ê³  ë‹¤ì‹œ ìˆ˜ì • í•´ë´ì•¼ê² ë‹¤. ìš°ì„  ì œì¶œ! ğŸ”¥ğŸ”¥ğŸ”¥