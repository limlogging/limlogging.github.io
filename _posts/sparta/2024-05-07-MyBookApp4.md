---
title: "[ë‚´ë°°ìº ] iOS ì•± ê°œë°œ ì‹¬í™” ê°œì¸ ê³¼ì œ - ì±… ê²€ìƒ‰ ì•± ë§Œë“¤ê¸° 4"
excerpt: "iOS ì•± ê°œë°œ ì‹¬í™” ê°œì¸ ê³¼ì œ - ì±… ê²€ìƒ‰ ì•± ë§Œë“¤ê¸° 4"
categories: sparta
tags: [iOS, UIKit, TabBarController, Code Base, UINavigationController, UITabBarController, UISearchController, UICollectionViewCell, UITableViewCell, UICollectionViewFlowLayout, UICollectionView, UITableView]

toc: true           #On this page ë³´ì´ê¸° 
toc_sticky: true    #on this page ìŠ¤í¬ë¡¤ì— ë”°ë¼ ì›€ì§ì´ë„ë¡ 
comments: true      #ëŒ“ê¸€
---
# ì§€ë‚œì´ì•¼ê¸° 
- [â­ï¸ì±… ê²€ìƒ‰ ì•± ë§Œë“¤ê¸° 1 ë³´ëŸ¬ê°€ê¸°â­ï¸](https://limlogging.github.io/sparta/MyBookApp1/){:target="_blank"} 
- [â­ï¸ì±… ê²€ìƒ‰ ì•± ë§Œë“¤ê¸° 2 ë³´ëŸ¬ê°€ê¸°â­ï¸](https://limlogging.github.io/sparta/MyBookApp2/){:target="_blank"} 
- [â­ï¸ì±… ê²€ìƒ‰ ì•± ë§Œë“¤ê¸° 3 ë³´ëŸ¬ê°€ê¸°â­ï¸](https://limlogging.github.io/sparta/MyBookApp3/){:target="_blank"} 
- ì§€ë‚œë²ˆì— ì´ì–´ ì±… ì •ë³´ë¥¼ ë³´ì—¬ì£¼ëŠ” BookDetailViewControllerì— ë°ì´í„°ë¥¼ ë³´ì—¬ì£¼ë„ë¡ í•˜ê² ìŠµë‹ˆë‹¤. 

# 1. ìŠ¤í¬ë¡¤ë·°ì™€ ë²„íŠ¼ì´ ë‹´ê¸¸ ë·° ì¶”ê°€í•˜ê¸° 
- ì±… ìƒì„¸ ì •ë³´ë¥¼ ë‹´ì„ BookDetailViewControllerë¥¼ ìˆ˜ì •í•©ë‹ˆë‹¤. 
- ìŠ¤í¬ë¡¤ë·°ì™€ ë²„íŠ¼ì´ ë‹´ê¸¸ ë·°ë¥¼ ì¶”ê°€í–ˆìŠµë‹ˆë‹¤. 

```swift
class BookDetailViewController: UIViewController {
    // MARK: - ë²„íŠ¼ì´ ë‹´ê¸¸ ë·°
    var buttonView: UIView = {
        let view = UIView()
        view.backgroundColor = .yellow
        view.translatesAutoresizingMaskIntoConstraints = false
        return view
    }()

    // MARK: - ì±… ë°ì´í„°ê°€ ë‹´ê¸¸ ìŠ¤í¬ë¡¤ ë·°
    var scrollView: UIScrollView = {
        let scrollView = UIScrollView()
        scrollView.backgroundColor = .cyan
        scrollView.layer.borderColor = #colorLiteral(red: 0, green: 0, blue: 0, alpha: 1)
        scrollView.layer.borderWidth = 1
        scrollView.translatesAutoresizingMaskIntoConstraints = false
        return scrollView
    }()

    override func viewDidLoad() {
        super.viewDidLoad()
        view.backgroundColor = .white
        
        setupAddView()
        setupAutoLayout()
    }

    // MARK: - ë·° ì¶”ê°€ 
    func setupAddView() {
        view.addSubview(scrollView)
        view.addSubview(buttonView)
    }

        // MARK: - ì˜¤í† ë ˆì´ì•„ì›ƒ ì„¤ì •
    func setupAutoLayout() {
        NSLayoutConstraint.activate([
            //ë²„íŠ¼ ì¶”ê°€í›„ ìŠ¤í¬ë¡¤ ë·°
            scrollView.topAnchor.constraint(equalTo: view.topAnchor),
            scrollView.leadingAnchor.constraint(equalTo: view.leadingAnchor),
            scrollView.trailingAnchor.constraint(equalTo: view.trailingAnchor),
            scrollView.bottomAnchor.constraint(equalTo: buttonView.topAnchor),

            //ë²„íŠ¼ì´ ë‹´ê¸°ëŠ” ë·°
            buttonView.heightAnchor.constraint(equalTo: view.heightAnchor, multiplier: 0.1),
            buttonView.leadingAnchor.constraint(equalTo: view.leadingAnchor),
            buttonView.trailingAnchor.constraint(equalTo: view.trailingAnchor),
            buttonView.bottomAnchor.constraint(equalTo: view.bottomAnchor),
        ])
    }
}
```

## ì‹¤í–‰í™”ë©´ 
![](../../assets/images/categories/sparta/2024-05-08-MyBookApp1.png)

# 2. ì´ë¯¸ì§€ ë·° ì¶”ê°€í•˜ê¸° 
- ì±… ì´ë¯¸ì§€ë¥¼ ë‹´ì„ ì´ë¯¸ì§€ë·°ë¥¼ ì¶”ê°€í–ˆìŠµë‹ˆë‹¤. 

```swift
class BookDetailViewController: UIViewController {
    // MARK: - ì±… ì´ë¯¸ì§€
    var bookImageView: UIImageView = {
        let imageView = UIImageView()
        //imageView.contentMode = .scaleAspectFill
        imageView.contentMode = .scaleToFill
        imageView.layer.borderColor = #colorLiteral(red: 0, green: 0, blue: 0, alpha: 1)
        imageView.layer.borderWidth = 1
        imageView.translatesAutoresizingMaskIntoConstraints = false
        return imageView
    }()

    // MARK: - ë·° ì¶”ê°€
    func setupAddView() {
        scrollView.addSubview(bookImageView)
    }
    
    // MARK: - ì˜¤í† ë ˆì´ì•„ì›ƒ ì„¤ì •
    func setupAutoLayout() {
        NSLayoutConstraint.activate([           
            //ì±… ì´ë¯¸ì§€
            bookImageView.topAnchor.constraint(equalTo: scrollView.topAnchor, constant: 50),
            bookImageView.centerXAnchor.constraint(equalTo: scrollView.centerXAnchor),
            bookImageView.heightAnchor.constraint(equalTo: scrollView.heightAnchor, multiplier: 0.4),
            bookImageView.widthAnchor.constraint(equalTo: scrollView.widthAnchor, multiplier: 0.5),
        ])
    }
}
```

## ì‹¤í–‰í™”ë©´
![](../../assets/images/categories/sparta/2024-05-08-MyBookApp2.png)

# 3. ì˜í™”ì œëª©, ì €ì ë“± ë‚˜ë¨¸ì§€ ì¶”ê°€í•˜ê¸° 
- ë‚˜ë¨¸ì§€ í•„ìš”í•œ ë‚´ìš©ì„ ì¶”ê°€í–ˆìŠµë‹ˆë‹¤.

```swift
class BookDetailViewController: UIViewController {
    // MARK: - ì±… ë°ì´í„°ê°€ ë‹´ê¸¸ ìŠ¤í¬ë¡¤ ë·°
    var scrollView: UIScrollView = {
        let scrollView = UIScrollView()
        scrollView.layer.borderColor = #colorLiteral(red: 0, green: 0, blue: 0, alpha: 1)
        scrollView.layer.borderWidth = 1
        scrollView.translatesAutoresizingMaskIntoConstraints = false
        return scrollView
    }()
    
    // MARK: - ì±… ì´ë¯¸ì§€
    var bookImageView: UIImageView = {
        let imageView = UIImageView()
        //imageView.contentMode = .scaleAspectFill
        imageView.contentMode = .scaleToFill
        imageView.layer.borderColor = #colorLiteral(red: 0, green: 0, blue: 0, alpha: 1)
        imageView.layer.borderWidth = 1
        imageView.translatesAutoresizingMaskIntoConstraints = false
        return imageView
    }()
    
    // MARK: - ì±… ì œëª©
    var bookTitleLabel: UILabel = {
        let label = UILabel()
        label.text = "ì±… ì œëª©"
        label.font = UIFont.systemFont(ofSize: 25, weight: .bold)
        label.numberOfLines = 0
        label.layer.borderColor = #colorLiteral(red: 0, green: 0, blue: 0, alpha: 1)
        label.layer.borderWidth = 1
        label.translatesAutoresizingMaskIntoConstraints = false
        return label
    }()
    
    // MARK: - ì €ìì™€ ë²ˆì—­ ë ˆì´ë¸”ì„ ë‹´ëŠ” ìŠ¤íƒ ë·°
    var bookAuthorsTranslatorsStackView: UIStackView = {
        let stackView = UIStackView()
        stackView.axis = .horizontal
        stackView.alignment = .fill
        stackView.distribution = .fillEqually
        stackView.spacing = 10
        stackView.layer.borderColor = #colorLiteral(red: 0, green: 0, blue: 0, alpha: 1)
        stackView.layer.borderWidth = 1
        stackView.translatesAutoresizingMaskIntoConstraints = false
        return stackView
    }()
    
    // MARK: - ì €ì
    var bookAuthorsLabel: UILabel = {
        let label = UILabel()
        label.text = "ì €ì"
        label.font = UIFont.systemFont(ofSize: 13, weight: .bold)
        label.textColor = .darkGray
        label.numberOfLines = 0
        label.layer.borderColor = #colorLiteral(red: 0, green: 0, blue: 0, alpha: 1)
        label.layer.borderWidth = 1
        label.translatesAutoresizingMaskIntoConstraints = false
        return label
    }()
    
    // MARK: - ë²ˆì—­
    var bookTranslatorsLabel: UILabel = {
        let label = UILabel()
        label.text = "ë²ˆì—­"
        label.font = UIFont.systemFont(ofSize: 13, weight: .bold)
        label.textColor = .darkGray
        label.numberOfLines = 0
        label.layer.borderColor = #colorLiteral(red: 0, green: 0, blue: 0, alpha: 1)
        label.layer.borderWidth = 1
        label.translatesAutoresizingMaskIntoConstraints = false
        return label
    }()
    
    // MARK: - í• ì¸ìœ¨, í• ì¸ ê°€ê²©, ì •ê°€ë¥¼ ë‹´ì„ ìŠ¤íƒ ë·°
    var bookPriceStackView: UIStackView = {
        let stackView = UIStackView()
        stackView.axis = .horizontal
        stackView.spacing = 5
        // ìŠ¤íƒë·°ì˜ distribution ì†ì„± ì„¤ì •
        //stackView.distribution = .fill
        stackView.layer.borderColor = #colorLiteral(red: 0, green: 0, blue: 0, alpha: 1)
        stackView.layer.borderWidth = 1
        stackView.translatesAutoresizingMaskIntoConstraints = false
        return stackView
    }()
    
    // MARK: - í• ì¸ìœ¨
    var bookDiscountLabel: UILabel = {
        let label = UILabel()
        label.text = "í• ì¸ìœ¨"
        label.font = UIFont.systemFont(ofSize: 18, weight: .bold)
        label.textColor = .red
        label.layer.borderColor = #colorLiteral(red: 0, green: 0, blue: 0, alpha: 1)
        label.layer.borderWidth = 1
        label.translatesAutoresizingMaskIntoConstraints = false
        return label
    }()
    
    // MARK: - ì±… ì„¸ì¼ ê°€ê²©
    var bookSalePriceLabel: UILabel = {
        let label = UILabel()
        label.text = "ì„¸ì¼ê°€"
        label.font = UIFont.systemFont(ofSize: 18, weight: .bold)
        label.layer.borderColor = #colorLiteral(red: 0, green: 0, blue: 0, alpha: 1)
        label.layer.borderWidth = 1
        label.translatesAutoresizingMaskIntoConstraints = false
        return label
    }()
    
    // MARK: - ì±… ê°€ê²©
    var bookPriceLabel: UILabel = {
        let label = UILabel()
        label.text = "ì •ê°€"
        label.font = UIFont.systemFont(ofSize: 13, weight: .bold)
        label.textColor = .darkGray
        label.layer.borderColor = #colorLiteral(red: 0, green: 0, blue: 0, alpha: 1)
        label.layer.borderWidth = 1
        label.translatesAutoresizingMaskIntoConstraints = false
        return label
    }()
    
    // MARK: - ì¶œíŒì‚¬
    var bookPublisherLabel: UILabel = {
        let label = UILabel()
        label.text = "ì¶œíŒì‚¬"
        label.font = UIFont.systemFont(ofSize: 15, weight: .bold)
        label.layer.borderColor = #colorLiteral(red: 0, green: 0, blue: 0, alpha: 1)
        label.layer.borderWidth = 1
        label.translatesAutoresizingMaskIntoConstraints = false
        return label
    }()
    
    // MARK: - ì±… ì†Œê°œ íƒ€ì´í‹€
    var bookContentsTitleLabel: UILabel = {
        let label = UILabel()
        label.text = "ì±… ì†Œê°œ"
        label.font = UIFont.systemFont(ofSize: 20, weight: .bold)
        label.layer.borderColor = #colorLiteral(red: 0, green: 0, blue: 0, alpha: 1)
        label.layer.borderWidth = 1
        label.translatesAutoresizingMaskIntoConstraints = false
        return label
    }()
    
    // MARK: - ì±… ì†Œê°œ
    var bookContentsLabel: UILabel = {
        let label = UILabel()
        label.text = "ì±… ì†Œê°œ ë‚´ìš©"
        label.numberOfLines = 0
        label.layer.borderColor = #colorLiteral(red: 0, green: 0, blue: 0, alpha: 1)
        label.layer.borderWidth = 1
        label.translatesAutoresizingMaskIntoConstraints = false
        return label
    }()

    // MARK: - ë²„íŠ¼ì´ ë‹´ê¸¸ ë·°
    var buttonView: UIView = {
        let view = UIView()
        view.backgroundColor = .yellow
        view.layer.borderColor = #colorLiteral(red: 0, green: 0, blue: 0, alpha: 1)
        view.layer.borderWidth = 1
        view.translatesAutoresizingMaskIntoConstraints = false
        return view
    }()

    // MARK: - ë·° ì¶”ê°€
    func setupAddView() {
        //ì €ì ë° ë²ˆì—­ê°€
        bookAuthorsTranslatorsStackView.addArrangedSubview(bookAuthorsLabel)
        bookAuthorsTranslatorsStackView.addArrangedSubview(bookTranslatorsLabel)
        
        //í• ì¸ìœ¨, í• ì¸ê°€, ì •ê°€
        bookPriceStackView.addArrangedSubview(bookDiscountLabel)
        bookPriceStackView.addArrangedSubview(bookSalePriceLabel)
        bookPriceStackView.addArrangedSubview(bookPriceLabel)
    
        scrollView.addSubview(bookImageView)                    //ì±… ì´ë¯¸ì§€
        scrollView.addSubview(bookTitleLabel)                   //ì±… ì œëª©
        scrollView.addSubview(bookAuthorsTranslatorsStackView)  //ì €ì ë° ë²ˆì—­ê°€
        scrollView.addSubview(bookPublisherLabel)               //ì¶œíŒì‚¬
        scrollView.addSubview(bookPriceStackView)               //í• ì¸ìœ¨, í• ì¸ê°€, ì •ê°€
        scrollView.addSubview(bookContentsTitleLabel)           //ì±… ì†Œê°œ í…ìŠ¤íŠ¸
        scrollView.addSubview(bookContentsLabel)                //ì±… ì†Œê°œ
        view.addSubview(scrollView)
        
        view.addSubview(buttonView)
    }

    // MARK: - ì˜¤í† ë ˆì´ì•„ì›ƒ ì„¤ì •
    func setupAutoLayout() {
        NSLayoutConstraint.activate([
            //ìŠ¤í¬ë¡¤ ë·°
            scrollView.topAnchor.constraint(equalTo: view.topAnchor),
            scrollView.leadingAnchor.constraint(equalTo: view.leadingAnchor),
            scrollView.trailingAnchor.constraint(equalTo: view.trailingAnchor),
            scrollView.bottomAnchor.constraint(equalTo: buttonView.topAnchor),
           
            //ì±… ì´ë¯¸ì§€
            bookImageView.topAnchor.constraint(equalTo: scrollView.topAnchor, constant: 50),
            bookImageView.centerXAnchor.constraint(equalTo: scrollView.centerXAnchor),
            bookImageView.heightAnchor.constraint(equalTo: scrollView.heightAnchor, multiplier: 0.4),
            bookImageView.widthAnchor.constraint(equalTo: scrollView.widthAnchor, multiplier: 0.5),
                        
            //ì±… ì œëª©
            bookTitleLabel.topAnchor.constraint(equalTo: bookImageView.bottomAnchor, constant: 30),
            bookTitleLabel.leadingAnchor.constraint(equalTo: scrollView.leadingAnchor, constant: 10),
            bookTitleLabel.widthAnchor.constraint(equalTo: scrollView.widthAnchor),
                        
            //ì €ì ë° ë²ˆì—­ê°€
            bookAuthorsTranslatorsStackView.topAnchor.constraint(equalTo: bookTitleLabel.bottomAnchor, constant: 10),
            bookAuthorsTranslatorsStackView.leadingAnchor.constraint(equalTo: view.leadingAnchor, constant: 10),
            bookAuthorsTranslatorsStackView.trailingAnchor.constraint(equalTo: view.trailingAnchor, constant: -10),
            
            //ì¶œíŒì‚¬
            bookPublisherLabel.topAnchor.constraint(equalTo: bookAuthorsTranslatorsStackView.bottomAnchor, constant: 10),
            bookPublisherLabel.leadingAnchor.constraint(equalTo: scrollView.leadingAnchor, constant: 10),
            
            //í• ì¸ìœ¨, í• ì¸ê°€, ì •ê°€
            bookPriceStackView.topAnchor.constraint(equalTo: bookPublisherLabel.bottomAnchor, constant: 30),
            bookPriceStackView.leadingAnchor.constraint(equalTo: view.leadingAnchor, constant: 10),
            bookPriceStackView.trailingAnchor.constraint(equalTo: view.trailingAnchor, constant: -10),            
            bookDiscountLabel.widthAnchor.constraint(equalTo: bookPriceStackView.widthAnchor, multiplier: 0.15),
            bookSalePriceLabel.widthAnchor.constraint(equalTo: bookPriceStackView.widthAnchor, multiplier: 0.25),
 
            //ì±… ì†Œê°œ íƒ€ì´í‹€
            bookContentsTitleLabel.topAnchor.constraint(equalTo: bookPriceStackView.bottomAnchor, constant: 30),
            bookContentsTitleLabel.leadingAnchor.constraint(equalTo: scrollView.leadingAnchor, constant: 10),
            
            //ì±… ì†Œê°œ
            bookContentsLabel.topAnchor.constraint(equalTo: bookContentsTitleLabel.bottomAnchor, constant: 10),
            bookContentsLabel.leadingAnchor.constraint(equalTo: view.leadingAnchor, constant: 10),
            bookContentsLabel.trailingAnchor.constraint(equalTo: view.trailingAnchor, constant: -10),
            bookContentsLabel.bottomAnchor.constraint(greaterThanOrEqualTo: scrollView.bottomAnchor),
            
            //ë²„íŠ¼ì´ ë‹´ê¸°ëŠ” ë·°
            buttonView.heightAnchor.constraint(equalTo: view.heightAnchor, multiplier: 0.1),
            buttonView.leadingAnchor.constraint(equalTo: view.leadingAnchor),
            buttonView.trailingAnchor.constraint(equalTo: view.trailingAnchor),
            buttonView.bottomAnchor.constraint(equalTo: view.bottomAnchor),      
        ])
    }
```

## ì‹¤í–‰í™”ë©´ 
![](../../assets/images/categories/sparta/2024-05-08-MyBookApp3.png)

# 4. ê²€ìƒ‰í™”ë©´ì—ì„œ ì •ë³´ë¥¼ ë°›ì•„ì˜¤ê¸° ìœ„í•´ ë³€ìˆ˜ ì„¤ì • 
- ê²€ìƒ‰ í˜ì´ì§€ì—ì„œ ë°›ì€ ë°ì´í„°ë¥¼ ì €ì¥í•  ë³€ìˆ˜ë¥¼ ìƒì„±í•©ë‹ˆë‹¤.   

```swift 
class BookDetailViewController: UIViewController {
    var tempTitle: String?          //ì±… ì œëª©
    var tempAuthors: [String]?      //ì €ì
    var tempTranslators: [String]?  //ë²ˆì—­
    var tempPublisher: String?      //ì¶œíŒì‚¬
    var tempImageView: String?      //ì±… ì´ë¯¸ì§€
    var tempPrice: Int?             //ì±… ê°€ê²©
    var tempSalePrice: Int?         //ì±… ì„¸ì¼ ê°€ê²©
    var tempContents: String?       //ì±… ì†Œê°œ
}
```

# 5. ìƒì„¸í˜ì´ì§€ë¡œ ì´ë™ ì‹œ í…Œì´ë¸” ë·° ì •ë³´ ë„˜ê²¨ì£¼ê¸° 
- ì…€ì„ ì„ íƒí•˜ê³  ìƒì„¸í˜ì´ì§€ë¡œ ì´ë™í• ë•Œ ìƒì„¸í˜ì´ì§€ ë³€ìˆ˜ì— ë°ì´í„°ë¥¼ ì „ë‹¬í•©ë‹ˆë‹¤.  

```swift 
extension SearchBookViewController: UITableViewDelegate {
    // MARK: - tableView Cellì„ ì„ íƒí–ˆì„ë•Œ í™”ë©´ ì´ë™
    func tableView(_ tableView: UITableView, didSelectRowAt indexPath: IndexPath) {
        let bookDetailVC = BookDetailViewController()
        bookDetailVC.tempTitle = bookData?.documents[indexPath.row].title               //ì±… ì œëª©
        bookDetailVC.tempAuthors = bookData?.documents[indexPath.row].authors           //ì €ì
        bookDetailVC.tempTranslators = bookData?.documents[indexPath.row].translators   //ë²ˆì—­
        bookDetailVC.tempPublisher = bookData?.documents[indexPath.row].publisher       //ì¶œíŒì‚¬ 
        bookDetailVC.tempImageView = bookData?.documents[indexPath.row].thumbnail       //ì±… ì´ë¯¸ì§€
        bookDetailVC.tempSalePrice = bookData?.documents[indexPath.row].salePrice       //ì±… í• ì¸ê°€
        bookDetailVC.tempPrice = bookData?.documents[indexPath.row].price               //ì±… ê°€ê²©
        bookDetailVC.tempContents = bookData?.documents[indexPath.row].contents         //ì±… ì†Œê°œ
        
        present(bookDetailVC, animated: true, completion: nil)
    }
}
```

# 6. ìƒì„¸í™”ë©´ì—ì„œ ì˜µì…”ë„ í•´ì œí•˜ê³  ë°ì´í„° í• ë‹¹í•˜ê¸° 
- ìƒì„¸ í˜ì´ì§€ì¸ BookDetailViewControllerì˜ ë·°ë””ë“œë¡œë“œì— ì˜µì…”ë„ì„ í•´ì œí•˜ê³  ë°ì´í„°ë¥¼ í• ë‹¹í•©ë‹ˆë‹¤.  
- ìˆ«ì ìë¦¬ìˆ˜ ë° ì·¨ì†Œì„  ì²˜ë¦¬ë¥¼ ìœ„í•´ í•¨ìˆ˜ë¥¼ ë”°ë¡œ ë§Œë“¤ì—ˆìŠµë‹ˆë‹¤. 
- ì´ë¯¸ì§€ ì²˜ë¦¬ë¥¼ ìœ„í•´ í‚¹ í”¼ì…” ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ì‚¬ìš©í–ˆìŠµë‹ˆë‹¤. 

```swift 
   override func viewDidLoad() {
        super.viewDidLoad()
        view.backgroundColor = .white
        
        guard let title = tempTitle,
           let authors = tempAuthors,
           let translators = tempTranslators,
           let publisher = tempPublisher,
           let imageView = tempImageView,
           let salePrice = tempSalePrice,
           let price = tempPrice,
           let contents = tempContents else { return }
        
        bookTitleLabel.text = title
        bookAuthorsLabel.text = authors.joined(separator: ", ") + " ì €ì(ê¸€)"
 
        if translators.count == 0 {
            bookTranslatorsLabel.text = ""
        } else {
            bookTranslatorsLabel.text = translators.joined(separator: ", ") + " ë²ˆì—­"
        }
        bookPublisherLabel.text = publisher     //ì¶œíŒì‚¬

        //ì±… ì´ë¯¸ì§€         
        if let url = URL(string: imageView) {
            DispatchQueue.main.async { [weak self] in
                self?.bookImageView.kf.setImage(with: url)
            }
        }

        let discountPercent = ((Double(price) - Double(salePrice)) / Double(price)) * 100
        let formattedDiscount = String(format: "%.0f%%", discountPercent)
        bookDiscountLabel.text = "\(formattedDiscount)"                 //í• ì¸ìœ¨
        bookSalePriceLabel.text = setComma(number: salePrice) + "ì›"     //í• ì¸ê°€
        let salePriceWithUnderline = addStrikethrough(to: setComma(number: price) + "ì›")
        bookPriceLabel.attributedText = salePriceWithUnderline          //ì •ê°€
        bookContentsLabel.text = contents   //ì±… ì†Œê°œ
    }

    // MARK: - ê°€ìš´ë° ë°‘ì¤„ ì¶”ê°€
    func addStrikethrough(to string: String) -> NSAttributedString {
        let attributedString = NSMutableAttributedString(string: string)
        attributedString.addAttribute(.strikethroughStyle, value: NSUnderlineStyle.single.rawValue, range: NSRange(location: 0, length: string.count))
        return attributedString
    }
    
    // MARK: - ìˆ«ì ìë¦¬ìˆ˜ ì¶”ê°€
    func setComma(number: Int) -> String {
        let numberFormatter: NumberFormatter = NumberFormatter()
        numberFormatter.numberStyle = .decimal
        if let num = numberFormatter.string(for: number) {
            return num
        } else {
            return String(number)
        }
    }
```

## ì‹¤í–‰í™”ë©´
![](../../assets/images/categories/sparta/2024-05-08-MyBookApp4.png)

# 7. ë‹«ê¸° ë²„íŠ¼ ë° ë“±ë¡ ë²„íŠ¼ ì¶”ê°€í•˜ê¸° 
- ë²„íŠ¼ ì¶”ê°€ë¥¼ ìœ„í•´ ë§Œë“¤ì–´ ë†“ì€ ë·°ì— ìŠ¤íƒë·°ë¥¼ ì¶”ê°€í•˜ê³  ìŠ¤íƒë·°ì— ë‹«ê¸° ë²„íŠ¼ê³¼ ë“±ë¡ ë²„íŠ¼ì„ ì¶”ê°€í–ˆìŠµë‹ˆë‹¤. 
- ì´ë¯¸ì§€ë·°ë¥¼ ì œì™¸í•œ ë‚˜ë¨¸ì§€ ê°ì²´ë“¤ì˜ í…Œë‘ë¦¬ë¥¼ ì—†ì•´ìŠµë‹ˆë‹¤. 

```swift 
    // MARK: - ë²„íŠ¼ì´ ë‹´ê¸¸ ë·°
    var buttonView: UIView = {
        let view = UIView()
        view.translatesAutoresizingMaskIntoConstraints = false
        return view
    }()
    
    // MARK: - ë‹«ê¸° ë²„íŠ¼
    var closeButton: UIButton = {
        let button = UIButton()
        button.setImage(UIImage(systemName: "xmark"), for: .normal)
        button.tintColor = .white   //ë²„íŠ¼ì˜ ìƒ‰ìƒ
        button.backgroundColor = .darkGray
        button.clipsToBounds = true
        button.layer.cornerRadius = 10
        button.translatesAutoresizingMaskIntoConstraints = false
        return button
    }()
    
    // MARK: - ë‹´ê¸° ë²„íŠ¼
    var addButton: UIButton = {
        let button = UIButton()
        button.setTitle("ì±… ë‹´ê¸°", for: .normal)
        button.titleLabel?.font = UIFont.systemFont(ofSize: 20, weight: .bold)
        button.setTitleColor(.white, for: .normal)
        button.backgroundColor = .orange
        button.clipsToBounds = true
        button.layer.cornerRadius = 10
        button.translatesAutoresizingMaskIntoConstraints = false
        return button
    }()
    
    // MARK: - ë‹«ê¸° ë° ë‹´ê¸° ë²„íŠ¼ì´ ë‹´ê¸°ëŠ” ìŠ¤íƒ ë·°
    var buttonStackView: UIStackView = {
        let stackView = UIStackView()
        stackView.axis = .horizontal
        stackView.spacing = 10
        stackView.translatesAutoresizingMaskIntoConstraints = false
        return stackView
    }()

    buttonStackView.addArrangedSubview(closeButton)
    buttonStackView.addArrangedSubview(addButton)
    buttonView.addSubview(buttonStackView)
    view.addSubview(buttonView)

    //ë²„íŠ¼ì´ ë‹´ê¸°ëŠ” ë·°
    buttonView.heightAnchor.constraint(equalTo: view.heightAnchor, multiplier: 0.1),
    buttonView.leadingAnchor.constraint(equalTo: view.leadingAnchor),
    buttonView.trailingAnchor.constraint(equalTo: view.trailingAnchor),
    buttonView.bottomAnchor.constraint(equalTo: view.safeAreaLayoutGuide.bottomAnchor),
    
    //ë‹«ê¸°ë²„íŠ¼ê³¼ ë‹´ê¸° ë²„íŠ¼ì„ ìŠ¤íƒë·°ë¡œ ë¬¶ê¸°
    buttonStackView.topAnchor.constraint(equalTo: buttonView.topAnchor, constant: 10),
    buttonStackView.leadingAnchor.constraint(equalTo: buttonView.leadingAnchor, constant: 10),
    buttonStackView.trailingAnchor.constraint(equalTo: buttonView.trailingAnchor, constant: -10),
    buttonStackView.bottomAnchor.constraint(equalTo: buttonView.bottomAnchor, constant: -10),
    
    //leading, trailing, spacingë•Œë¬¸ì— -30, ë²„íŠ¼ì„ 1:4 ë¹„ìœ¨ë¡œ
    closeButton.widthAnchor.constraint(equalToConstant: (view.bounds.width - 30) * 0.2),
    addButton.widthAnchor.constraint(equalToConstant: (view.bounds.width - 30) * 0.8),
```

## ì‹¤í–‰í™”ë©´ 
![](../../assets/images/categories/sparta/2024-05-08-MyBookApp5.png)

# ë§ˆë¬´ë¦¬ 
- ì±… ìƒì„¸ í˜ì´ì§€ì˜ UIë¥¼ êµ¬ì„±í•˜ê³  ê²€ìƒ‰í˜ì´ì§€ì—ì„œ ë„˜ê²¨ ë°›ì€ ë°ì´í„°ë¥¼ ë³´ì—¬ì£¼ë„ë¡ ë§Œë“¤ì—ˆìŠµë‹ˆë‹¤. 
- ì˜¤í† ë ˆì´ì•„ì›ƒí•˜ê³  UIêµ¬ì„±í•˜ëŠ”ë° ë„ˆë¬´ ì‹œê°„ì„ ë§ì´ ëºê²¼ìŠµë‹ˆë‹¤... ğŸ˜­